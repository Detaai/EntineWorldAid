<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Magic Codex Main Menu</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
            min-height: 100vh;
            margin: 0;
            background: linear-gradient(135deg, #232526 0%, #485563 100%);
            background-image: url('tavern-backround.jpg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            color: #FFD700;
            font-family: 'Segoe UI', Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .note {
            background: rgba(255, 215, 0, 0.13);
            color: #fffbe7;
            border: 1.5px solid #FFD700;
            border-radius: 10px;
            padding: 14px 18px;
            margin: 18px auto 0 auto;
            max-width: 700px;
            font-size: 1.08rem;
            text-align: center;
            box-shadow: 0 2px 8px #0003;
            font-style: italic;
        }
        .codex-container {
            background: rgba(36, 54, 39, 0.97);
            border-radius: 22px;
            box-shadow: 0 8px 32px #000a;
            border: 2.5px solid #FFD700;
            max-width: 700px;
            width: 98vw;
            margin: 40px auto 0 auto;
            padding: 36px 32px 28px 32px;
            text-align: center;
        }
        h1 {
            color: #FFD700;
            margin-bottom: 18px;
            letter-spacing: 2px;
            text-shadow: 1px 1px 8px #000a;
        }
        .main-menu {
            display: flex;
            flex-wrap: wrap;
            gap: 22px;
            justify-content: center;
            margin: 32px 0 18px 0;
        }
        .magic-btn {
            background: rgba(255, 215, 0, 0.09);
            border: 2px solid #FFD700;
            border-radius: 14px;
            padding: 18px 26px;
            min-width: 180px;
            cursor: pointer;
            font-size: 1.15rem;
            color: #FFD700;
            font-weight: bold;
            box-shadow: 0 2px 8px #0003;
            transition: background 0.18s, transform 0.18s;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        .magic-btn:hover, .magic-btn.active {
            background: rgba(255, 215, 0, 0.22);
            transform: scale(1.05);
            color: #fffbe7;
        }
        .back-btn {
            margin: 18px 0 0 0;
            padding: 10px 22px;
            background-color: #007bff;
            color: white !important;
            border: none;
            border-radius: 8px;
            font-size: 1.08rem;
            font-family: inherit;
            cursor: pointer;
            box-shadow: 0 2px 8px #0003;
            transition: background 0.2s;
        }
        .back-btn:hover {
            background-color: #0056b3;
        }
        .details-panel {
            background: rgba(255,255,255,0.08);
            border-radius: 12px;
            border: 1.5px solid #FFD700;
            padding: 22px 18px;
            color: #FFD700;
            font-size: 1.08rem;
            text-align: left;
            margin-top: 12px;
            box-shadow: 0 2px 8px #0003;
            min-height: 120px;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }
        .submenu-btn {
            display: block;
            width: 100%;
            background: rgba(255, 215, 0, 0.09);
            border: 1px solid #FFD700;
            border-radius: 8px;
            color: #FFD700;
            font-size: 1.05rem;
            font-weight: bold;
            margin: 10px 0;
            padding: 10px 12px;
            text-align: left;
            cursor: pointer;
            transition: background 0.18s;
        }
        .submenu-btn:hover, .submenu-btn.active {
            background: rgba(255, 215, 0, 0.22);
            color: #fffbe7;
        }
        .submenu-content {
            background: rgba(36,54,39,0.92);
            border-radius: 8px;
            border: 1px solid #FFD700;
            color: #FFD700;
            font-size: 1.02rem;
            margin: 8px 0 12px 0;
            padding: 12px 14px;
            box-shadow: 0 2px 8px #0003;
        }
        .icon {
            font-size: 1.5em;
            vertical-align: middle;
        }
        .explore-btn {
            margin-top: 10px;
            padding: 10px 18px;
            background: #FFD700;
            color: #232526;
            border: none;
            border-radius: 8px;
            font-size: 1.05rem;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 2px 8px #0003;
            transition: background 0.18s, color 0.18s;
        }
        .explore-btn:hover {
            background: #fffbe7;
            color: #232526;
        }
        @media (max-width: 700px) {
            .codex-container, .note {
                padding: 12px 2vw 12px 2vw;
            }
            .magic-btn {
                min-width: 120px;
                font-size: 1rem;
                padding: 12px 8px;
            }
        }
    </style>
</head>
<body>
    <div class="codex-container">
        <h1>Magic Codex</h1>
        <button class="explore-btn" style="margin-bottom:18px;display:inline-block;" onclick="window.location.href='magic.html'">
            View All Magic Types
        </button>
        <button class="explore-btn" style="margin-bottom:18px;display:inline-block;" onclick="window.location.href='home-page.html'">
            üè† Home
        </button>
        <div id="mainMenu" class="main-menu"></div>
        <div id="detailsPanel" class="details-panel" style="display:none;"></div>
        <button id="backBtn" class="back-btn" style="display:none;" onclick="showMainMenu()">‚Üê Back to Magic Types</button>
    </div>
    <script>
        const MAGIC_TYPES = [
    {
        key: "objects",
        name: "Magic Objects",
        icon: "‚ú®",
        summary: "Before the Frost Era, artisans forged wondrous magic objects‚Äîvessels of ancient power infused with shards of shimmering crystal. These objects, from lanterns to amulets, were crafted with care and knowledge now lost to time. Today, only relics remain, humming with forgotten magic, their true potential often misunderstood or feared.",
        submenu: [
            {
                label: "Who Can Use Magic Objects?",
                content: "Magic objects are unique in that anyone can wield their power, regardless of magical heritage. A farmer may use a lantern of endless night, while a scholar might consult the Mirror of Truth. However, those with living magic may find their own power clashes with the object's, causing unpredictable and sometimes dangerous effects. The objects themselves often choose their user, responding to intent and need."
            },
            {
                label: "Example: The Lost Staff",
                content: "A merchant once found a staff embedded with a crystal shard. Though he had no magic, he could light lanterns with a touch, bringing prosperity to his town. When a hero with living magic tried to use the staff, it shattered, releasing a burst of wild energy that changed the course of a battle. The staff's remains are now a cautionary tale about the risks of mixing magic sources."
            },
            {
                label: "Famous Relics",
                content: "The Mirror of Truth reveals hidden secrets but only to those who seek with pure intent. The Lantern of Endless Night can illuminate the darkest places, but its light sometimes attracts spirits. The Amulet of Echoes allows the wearer to hear voices from the past, though some say it can drive a person mad with memories not their own."
            },
            {
                label: "Benefits",
                content: "Magic objects democratize magic, granting abilities to ordinary people. They can heal, protect, empower, or reveal. Some relics are used in daily life, while others are reserved for rituals or emergencies. Their magic is often stable and reliable, provided the user respects the object's history and limitations."
            },
            {
                label: "Risks / Warnings",
                content: "Relics are rare and sometimes unstable. If used by someone with living magic, objects may malfunction or cause magical backlash. Some objects are cursed or have hidden requirements, and misuse can lead to loss of control, physical harm, or spiritual consequences."
            },
            {
                label: "Explore Magic Objects",
                content: `<button class="explore-btn" onclick="window.location.href='magic-objects.html'">Explore Magic Objects & Relics</button>`
            }
        ]
    },
    {
        key: "living",
        name: "Living Magic",
        icon: "ü©∏",
        summary: "Living magic is the rare, inherited gift of legendary heroes, flowing in the veins of a select few. Passed down through bloodlines, it chooses only one or two heirs per generation, as if the magic itself wills its successor. Those blessed with living magic may manipulate the elements, heal wounds, or even glimpse the future‚Äîbut the power demands great responsibility and can be as unpredictable as it is strong.",
        submenu: [
            {
                label: "Who Can Use Living Magic?",
                content: "Only those born into a magical bloodline may inherit living magic. The magic itself chooses its heir, often one or two children per generation. The chosen may not always be the eldest or the most talented; sometimes, the magic seeks out the one most in need or most capable of bearing its burden."
            },
            {
                label: "Example: Lady Myra",
                content: "Lady Myra, born of one of the great hero‚Äôs bloodline, wielded living magic to protect her village from marauders. Her power was unpredictable‚Äîsometimes blessing her with incredible strength, and other times draining her until she was but a shadow of herself. Her story is told as a lesson in humility and caution for all who inherit living magic."
            },
            {
                label: "Bloodline Lore",
                content: "The House of Dawn and the Frostborn are two ancient families known for their living magic. The House of Dawn is famed for healers and seers, while the Frostborn command elemental ice and wind. Both families have histories filled with triumphs, betrayals, and tragedies, as the magic sometimes skips generations or manifests in unexpected ways."
            },
            {
                label: "Benefits",
                content: "Living magic allows manipulation of elements, healing, and glimpses of the future. It is powerful and versatile, often growing stronger with age and experience. Those who master it can perform feats impossible for ordinary mages, but mastery requires discipline and sacrifice."
            },
            {
                label: "Risks / Warnings",
                content: "Living magic is unpredictable and demanding. It can exhaust its wielder, act against their will, or even disappear for years. Some heirs are driven mad by the voices of past wielders, while others lose their magic after a traumatic event. The power is both a gift and a test."
            },
            {
                label: "Explore Living Magic",
                content: `<button class="explore-btn" onclick="window.location.href='living-magic.html'">Explore Bloodlines & Heirs</button>`
            }
        ]
    },
    {
        key: "potions",
        name: "Potions",
        icon: "üß™",
        summary: "Potions are the democratized magic of the modern age. Brewed from rare herbs, crystal dust, and bits of magical creatures, they heal, enhance, or protect. Unlike living or object magic, potions affect anyone who drinks them, regardless of bloodline or inherent power. Potion-making is both an art and a science, with recipes passed down through generations.",
        submenu: [
            {
                label: "Who Can Use Potions?",
                content: "Anyone can use potions, regardless of bloodline or inherent power. Their effects are universal, though some potions work better for certain individuals. Potion-makers are respected members of society, often consulted in times of crisis or celebration."
            },
            {
                label: "Famous Use: Tavin of Echinsire",
                content: "The healer Tavin of Echinsire crafted a potion of swift healing, saving many lives after the Battle of Gray Ridge. Even those without magic felt its effect‚Äîbones knit faster, wounds closed, and pain dulled. Tavin's potions are still sought after, though his exact recipes remain a closely guarded secret."
            },
            {
                label: "Potion Recipes",
                content: "Swift Healing: Moonwort, crystal dust, Frostwolf hair. Elixir of Clarity: Starflower, dew from the Silver Lake, a pinch of dream sand. Each recipe requires precise measurements and careful brewing, as a single mistake can turn a healing potion into a poison."
            },
            {
                label: "Benefits",
                content: "Potions can heal, enhance abilities, or protect. They are accessible and practical, used by soldiers, travelers, and scholars alike. Some potions grant temporary magical abilities, while others provide long-term protection or recovery."
            },
            {
                label: "Risks of Overuse",
                content: "Too many potions or the wrong mix can cause dizziness, madness, or worse. Some ingredients are dangerous, and improper brewing can lead to explosions or toxic fumes. Overuse may dull the senses or create dependency, and some potions have unpredictable side effects."
            },
            {
                label: "Explore Potions",
                content: `<button class="explore-btn" onclick="window.location.href='potions.html'">Explore Potion Recipes & Effects</button>`
            }
        ]
    },
    {
        key: "consuming",
        name: "Consuming Magic",
        icon: "‚ö†Ô∏è",
        summary: "Consuming magic‚Äîby swallowing shards of crystal or eating parts of magical creatures‚Äîis considered taboo, even desperate or sacrilegious. Magic is rare, and most people live ordinary lives untouched by it. Those who consume magic seek power quickly, but the risks are immense and the consequences often tragic.",
        submenu: [
            {
                label: "Who Can Consume Magic?",
                content: "Anyone desperate enough may attempt to consume magic, but it is considered sacrilegious and risky. Some cultures forbid the practice entirely, while others tolerate it in times of war or famine. The act is often performed in secret, with rituals designed to minimize harm."
            },
            {
                label: "Example: The Fire Spirit",
                content: "Some years ago, a man desperate for power swallowed a fire crystal once embedded in an ancient staff. For weeks, he wielded terrifying fire magic with ease, but the magic soon overwhelmed him. He transformed into a raging fire spirit, destroying an entire town before vanishing into the wilds. His story is a warning to all who seek shortcuts to power."
            },
            {
                label: "Taboo Lore",
                content: "The Ritual of Devouring is forbidden in most lands. Legends tell of the Shadow Eater, who consumed the essence of a hundred magical beings and was eventually hunted by the combined forces of every magical house. The ritual is said to warp the soul, leaving the practitioner forever changed."
            },
            {
                label: "Benefits",
                content: "Consuming magic can grant immense power quickly, sometimes unlocking abilities that would take years to master. In desperate times, some have used the practice to save lives or turn the tide of battle."
            },
            {
                label: "Risks / Warnings",
                content: "Magic may poison, warp, or destroy the consumer. Most stories end in tragedy, with the practitioner losing their humanity, sanity, or life. The magic often fights back, and few survive more than a handful of attempts."
            },
            {
                label: "Explore Consuming Magic",
                content: `<button class="explore-btn" onclick="window.location.href='consuming-magic.html'">Explore Rituals & Taboos</button>`
            }
        ]
    },
    {
        key: "creatures",
        name: "Magical Creatures",
        icon: "üê∫",
        summary: "Magical creatures flow naturally through all forms of magic‚Äîliving, object, and potion alike. Their rare gifts inspire awe and fear. To meet one is to glimpse magic‚Äôs full spectrum‚Äîand the thin line between wonder and terror. Some brave or desperate souls consume parts of magical creatures to gain their magic, but preparation is key: if not done properly, the magic may poison or warp the eater.",
        submenu: [
            {
                label: "Who Can Use Creature Magic?",
                content: "Anyone may attempt to gain magic from creatures, but preparation is key. Rituals and recipes must be followed precisely, and the risks are high. Some cultures revere magical creatures and forbid their harm, while others hunt them for their power."
            },
            {
                label: "Example: The Frostwolf",
                content: "In the northern wilds, hunters who consume the flesh of the Frostwolf gain cold magic‚Äîfrost forming on their skin and the ability to chill the air around them. But many suffer painful side effects: their body temperature drops dangerously low, limbs stiffen, and some lose their sense of warmth altogether, becoming distant and withdrawn."
            },
            {
                label: "Creature Lore",
                content: "The Phoenix is said to grant immortality to those who taste its flame, but none have survived the attempt. The Shadow Lynx can slip between worlds, and its whiskers are prized by illusionists. The Frostwolf is both feared and respected, its pack roaming the frozen wastes and guarding ancient secrets."
            },
            {
                label: "Benefits",
                content: "Creature magic is potent and diverse, sometimes granting rare abilities such as flight, invisibility, or elemental control. Those who succeed are often changed forever, gaining new strengths and weaknesses."
            },
            {
                label: "Risks / Warnings",
                content: "Side effects are common and often severe. Magic may poison or warp the user, leading to physical mutations, loss of memory, or uncontrollable urges. Some become more beast than human, and legends abound of those who vanished into the wilds, never to return."
            },
            {
                label: "Explore Magical Creatures",
                content: `<button class="explore-btn" onclick="window.location.href='creatures.html'">Explore What Creatures Give What Magic</button>`
            }
        ]
    }
];

        // Render main menu
        function showMainMenu() {
            document.getElementById('mainMenu').style.display = 'flex';
            document.getElementById('detailsPanel').style.display = 'none';
            document.getElementById('backBtn').style.display = 'none';
        }

        function renderMainMenu() {
            const menuDiv = document.getElementById('mainMenu');
            menuDiv.innerHTML = '';
            MAGIC_TYPES.forEach((type, idx) => {
                const btn = document.createElement('button');
                btn.className = 'magic-btn';
                btn.innerHTML = `<span class="icon">${type.icon}</span> ${type.name}`;
                btn.onclick = () => showDetails(idx);
                menuDiv.appendChild(btn);
            });
        }

        // Show details for a magic type
        function showDetails(idx) {
            const type = MAGIC_TYPES[idx];
            document.getElementById('mainMenu').style.display = 'none';
            document.getElementById('detailsPanel').style.display = 'block';
            document.getElementById('backBtn').style.display = 'inline-block';

            let html = `<h2 style="margin:0 0 10px 0; color:#FFD700;">${type.icon} ${type.name}</h2>`;
            html += `<p style="margin:0 0 18px 0;">${type.summary}</p>`;
            type.submenu.forEach((item, i) => {
                html += `
                    <button class="submenu-btn" onclick="toggleSubmenu('${type.key}-${i}')">${item.label}</button>
                    <div id="${type.key}-${i}" class="submenu-content" style="display:none;">${item.content}</div>
                `;
            });
            document.getElementById('detailsPanel').innerHTML = html;
        }

        // Toggle submenu content
        function toggleSubmenu(id) {
            const el = document.getElementById(id);
            el.style.display = (el.style.display === 'none' || el.style.display === '') ? 'block' : 'none';
        }

        // Initial render
        renderMainMenu();
        showMainMenu();

        // Allow submenu toggle to work on first render
        setTimeout(() => {
            document.querySelectorAll('.submenu-content').forEach(el => el.style.display = 'none');
        }, 50);
    </script>
</body>
</html>
<footer>
    <a href="references.html">References</a>
    <span>&copy; 2025 Caleb Jones</span>
</footer>